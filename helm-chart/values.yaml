# Default values for linkshort
# This is a YAML-formatted file.

# Global settings
global:
  imageTag: latest

# Domain configuration
domains:
  frontend: example.com
  api: api.example.com
  shortUrl: s.example.com

# Frontend configuration
frontend:
  enabled: true
  replicaCount: 2
  image:
    repository: aditer00/linkshort-frontend
    tag: ""  # Uses global.imageTag if empty
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 3000
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "300m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilization: 70

# URL Service configuration
urlService:
  enabled: true
  replicaCount: 2
  image:
    repository: aditer00/linkshort-url-service
    tag: ""
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8080
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "200m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilization: 70

# Analytics Service configuration
analyticsService:
  enabled: true
  replicaCount: 2
  image:
    repository: aditer00/linkshort-analytics-service
    tag: ""
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8081
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "200m"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilization: 70

# Redis configuration
redis:
  enabled: true
  image:
    repository: redis
    tag: "8-alpine"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 6379
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "250m"

# Storage configuration
storage:
  type: redis  # memory or redis

# Ingress configuration
ingress:
  enabled: true
  className: nginx
  annotations: {}
    # nginx.ingress.kubernetes.io/ssl-redirect: "true"
    # cert-manager.io/cluster-issuer: "letsencrypt-prod"
  tls:
    enabled: false
    secretName: linkshort-tls
